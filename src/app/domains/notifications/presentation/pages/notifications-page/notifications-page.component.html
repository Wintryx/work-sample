<div class="wtx-page">
  <header class="wtx-page-header">
    <div>
      <h2 class="wtx-page-title">Notifications</h2>
      <p class="wtx-page-subtitle">
        Simulate API errors and auth expirations to validate the global toast behavior.
      </p>
    </div>
  </header>

  <div class="wtx-panel">
    <div class="p-6 space-y-6 text-sm text-slate-600">
      <div class="space-y-1">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-400 font-semibold">
          Simulate Errors
        </p>
        <p>
          These actions intentionally trigger HTTP failures so the notification interceptor can
          surface consistent snackbars.
        </p>
      </div>

      <form (ngSubmit)="onSimulateError()" [formGroup]="errorForm" class="grid gap-4">
        <mat-form-field appearance="outline">
          <mat-label>Custom error message</mat-label>
          <input
            formControlName="message"
            matInput
            placeholder="Optional custom message for the error toast"
          />
        </mat-form-field>

        <div class="flex flex-wrap items-center gap-2">
          <button
            color="warn"
            mat-stroked-button
            type="submit"
          >
            <mat-icon class="mr-2">error_outline</mat-icon>
            Simulate Error
          </button>
          <button
            (click)="onSimulateUnauthorized()"
            color="warn"
            mat-stroked-button
            type="button"
          >
            <mat-icon class="mr-2">lock</mat-icon>
            Simulate Unauthorized
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="wtx-panel">
    <div class="p-6 space-y-6 text-sm text-slate-600">
      <div class="space-y-1">
        <p class="text-xs uppercase tracking-[0.2em] text-slate-400 font-semibold">
          Simulate Notifications
        </p>
        <p>
          Trigger success, info, or warning toasts through the notification interceptor.
        </p>
      </div>

      <form (ngSubmit)="onSimulateNotification()" [formGroup]="notificationForm" class="grid gap-4">
        <div class="grid gap-4 md:grid-cols-[2fr,1fr]">
          <mat-form-field appearance="outline">
            <mat-label>Custom message</mat-label>
            <input
              formControlName="message"
              matInput
              placeholder="Optional custom message for the toast"
            />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Notification type</mat-label>
            <mat-select formControlName="type">
              @for (option of notificationTypes; track option.value) {
                <mat-option [value]="option.value">{{ option.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <div class="flex flex-wrap items-center gap-2">
          <button color="primary" mat-stroked-button type="submit">
            <mat-icon class="mr-2">campaign</mat-icon>
            Simulate Notification
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
